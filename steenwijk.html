<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>P2000 Meldingen</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-transparent text-gray-100">

  <div id="rss-feed" class="container mx-auto px-4 py-8 overflow-x-auto">
    <div id="feed-entries"></div>
  </div>

  <script>
    const feedUrl = 'https://api.allorigins.win/get?url=' + encodeURIComponent('https://www.alarmeringdroid.nl/rss/95ac79ad');

    async function fetchFeed() {
      try {
        const response = await fetch(feedUrl);
        const data = await response.json();
        const xmlDoc = new DOMParser().parseFromString(data.contents, "text/xml");

        const feedEntries = document.getElementById("feed-entries");
        feedEntries.innerHTML = '';

        Array.from(xmlDoc.getElementsByTagName("item")).forEach((item) => {
          const title = item.getElementsByTagName("title")[0].textContent;
          const description = item.getElementsByTagName("description")[0].textContent;
          const pubDate = item.getElementsByTagName("pubDate")[0].textContent;

          feedEntries.innerHTML += `
            <div class="mb-4 p-4 bg-gray-800 rounded-lg border border-gray-700">
              <small class="text-gray-400">${pubDate}</small>
              <h2 class="font-bold text-lg text-gray-100">${title}</h2>
              <p>${description}</p>
            </div>
          `;
        });
      } catch (error) {
        console.error("Error fetching RSS feed:", error);
      }
    }

    fetchFeed();
    setInterval(fetchFeed, 5000);
  </script>

</body>
</html>
